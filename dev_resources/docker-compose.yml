version: '2'

services:
   nexus:
      image: "sonatype/nexus3"
      ports:
      - "8081:8081"
      volumes:
      - ./nexus-data:/nexus-data
   
   zookeeper1:
      image: "jdeathe/centos-ssh"
      tty: true
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"
   
   zookeeper2:
      image: "jdeathe/centos-ssh"
      tty: true        
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"

   zookeeper3:
      image: "jdeathe/centos-ssh"
      tty: true      
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"

   kafka1:
      image: "jdeathe/centos-ssh"
      tty: true    
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"

   kafka2:
      image: "jdeathe/centos-ssh"
      tty: true   
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"
      
   avro1:
      image: "jdeathe/centos-ssh"
      tty: true  
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"
      
   avro2:
      image: "jdeathe/centos-ssh"
      tty: true
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"
      
   kafka-misc:
      image: "jdeathe/centos-ssh"
      tty: true
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"   
      
   control:
      image: "jdeathe/centos-ssh"
      tty: true
      ports:
      - "2229:22"
      volumes:
      - /home/julien/Documents/ansible:/home/app-admin/ansible
      - ./ssh:/home/app-admin/ssh
      environment:
      - "SSH_SUDO=ALL=(ALL) NOPASSWD:ALL"
